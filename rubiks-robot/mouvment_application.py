"""controle du robot à l'aide de pyfirmata"""

import matplotlib
import matplotlib.pyplot as plt
import random
import pyfirmata
from tkinter import *
from time import *

board = pyfirmata.Arduino('COM3')

iter8=pyfirmata.util.Iterator(board)
iter8.start()

pin9= board.get_pin('d:9:s')
pin10= board.get_pin('d:10:s')

def move_servo(a):
    pin9.write(a)

"""
#set up GUI
root = Tk()
#draw a nice big slider for servo position

scale =Scale(root,
            command= move_servo,
            to     =180,
            orient = HORIZONTAL,
            length =400 ,
            label  ='Angle'  )
scale.pack(anchor = CENTER)

#run Tk enent loop

root.mainloop()
"""

pin9.write(135)
sleep(5)
pin10.write(70)
sleep(5)

def  turntoptest():
    sleep(2)
    pin9.write(135)
    sleep(3)
    pin9.write(170)
    sleep(2)
    pin9.write(80)

def turnbottest():
    sleep(2)
    pin10.write(9)
    sleep(3)
    pin10.write(70)
    sleep(2)
    pin10.write(134)

def turnright():
    sleep(2)
    pin10.write(8)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(170)
    sleep(0.5)
    pin10.write(77)
    sleep(1)
    pin10.write(70)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(134)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(70)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)

def turnright_1():
    sleep(2)
    pin10.write(134)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin9.write(170)
    sleep(0.5)
    pin10.write(63)
    sleep(1)
    pin10.write(70)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(134)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(70)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)

def turnleft():
    sleep(2)
    pin10.write(134)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin9.write(170)
    sleep(0.5)
    pin10.write(63)
    sleep(1)
    pin10.write(70)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(9)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(70)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)

def turnleft_1():
    sleep(2)
    pin10.write(9)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(170)
    sleep(0.5)
    pin10.write(77)
    sleep(1)
    pin10.write(70)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(9)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(70)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)


def turnfront():
    sleep(2)
    pin9.write(80)
    sleep(0.5)
    pin9.write(170)
    sleep(0.5)
    pin10.write(141)
    sleep(1)
    pin10.write(134)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(70)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(134)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(134)
    sleep(0.5)
    pin10.write(70)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(134)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(134)


def turnfront_1():
    sleep(2)
    pin9.write(80)
    sleep(0.5)
    pin9.write(170)
    sleep(0.5)
    pin10.write(0)
    sleep(1)
    pin10.write(9)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(70)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(9)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(70)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)


def turnUP_1():
    sleep(2)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(170)
    sleep(0.5)
    pin10.write(0)
    sleep(1)
    pin10.write(9)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(70)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(9)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(70)


def turnUP():
    sleep(2)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(170)
    sleep(0.5)
    pin10.write(140)
    sleep(1)
    pin10.write(134)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(70)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(134)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(70)


def turnDOWN():
    sleep(2)
    pin9.write(170)
    sleep(0.5)
    pin10.write(140)
    sleep(1)
    pin10.write(134)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(70)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(134)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(70)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)

def turnDOWN_1():
    sleep(2)
    pin9.write(170)
    sleep(0.5)
    pin10.write(0)
    sleep(1)
    pin10.write(9)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(70)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(9)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(70)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)


def turnBACK_1():
    sleep(2)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(170)
    sleep(0.5)
    pin10.write(0)
    sleep(1)
    pin10.write(9)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(70)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(9)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(70)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)

def turnBACK():
    sleep(2)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(170)
    sleep(0.5)
    pin10.write(140)
    sleep(1)
    pin10.write(134)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(70)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(134)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin10.write(70)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)
    sleep(0.5)
    pin9.write(80)
    sleep(0.5)
    pin9.write(135)


def resolutionphysique(L):
    for i in L:
        if i=="R":
            turnright()
        if i=="R_1":
            turnright_1()
        if i=="L":
            turnleft()
        if i=="L_1":
            turnleft_1()
        if i=="D":
            turnDOWN()
        if i=="D_1":
            turnDOWN_1()
        if i=="U":
            turnUP()
        if i=="U_1":
            turnUP_1()
        if i=="B":
            turnBACK()
        if i=="B_1":
            turnBACK_1()
        if i=="F":
            turnfront()
        if i=="F_1":
            turnfront_1()

    print("c'est résolue")

